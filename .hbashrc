# source $HOME/.hbashrc # to place in the .bashrc to source this custom additions.

# Easily accessing the bashrc from anywhere you want
alias hnanobashrc='nano $HOME/.bashrc'
alias hhnanobashrc='nano $HOME/.hbashrc'
alias hcodebashrc='code $HOME/.bashrc'
alias hhcodebashrc='code $HOME/.hbashrc'
alias hsourcebashrc='source $HOME/.bashrc'
alias hcatbashrc='cat $HOME/.bashrc'
alias hhcatbashrc='cat $HOME/.hbashrc'

# Git related
alias gs='git status'
alias gd='git diff'
alias ga='git add'
alias gl='git log --oneline'
alias gb='git checkout -b'
alias gaa='git add --all'
alias gm='git commit -m '
alias gp='git push'
alias gfp='git fetch --all && git pull'
alias ghome='cd `git rev-parse --show-toplevel`'
alias gsubmoduleinitrec='git submodule update --init --recursive'
alias greshead1='git reset HEAD~1' # undos the last commit
function hgmp() {
    if [ "$#" -ne 1 ]; then
        echo "Please provide a commit message for commiting and pushing in one line."
        echo "E.g.: hgmp \"my commit msg\""
        return -1
    else
        git commit -m "$1" && git push
    fi
}


# Python related
function cvenv() {
    # This function creates a python3.11 venv, updates pip and activates the venv.
    # The python version can be passed as an addional argument.

    python_version="3.11"
    if [ "$#" -ne 1 ]; then
        echo "Using default python version of $python_version"
    else
        python_version="$1"
        if [[ "${python_version:1:1}" != "." ]]; then
            echo "Please provide a version number of python with format major.minor, e.g. 3.11."
            return -1
        fi
    fi
    cmd="python$python_version -m venv venv && source venv/bin/activate && pip install -U pip"
    eval "$cmd"
}

function dvenv() {
    # This function removes the venv folder in the current directory.
    # When argument -y is given the folder will be directly removed.
    if [ "$#" -ne 1 ]; then
        printf 'Do you really want to remove the venv with "rm -rf venv"? (y/n)\n'
        read answer
        if [ "$answer" != "${answer#[Yy]}" ]; then
            rm -rf venv
        fi
    elif [ "$1" == "-y" ]; then
        rm -rf venv
    fi
    deactivate
}

alias avenv='source venv/bin/activate'                              # activate a venv
alias hpipdev='pip install -e .[dev]'                               # install venv via pip with dev-dependencies
alias hpipe='pip install -e .'                                      # installs package editable
alias htouchinitpy='touch __init__.py'                              # creates a __init__.py file
alias hpytest='pytest --disable-warnings'                           # executes pytest without the warnings
alias hpsuser='ps -u -a '                                           # 
alias hduone='du -h --max-depth=1 | sort -h'                        # prints folder storage for one level sorted by size
alias hcount='find . -type f | wc -l'                               # counts the number of files in the current dir
alias hcp='rsync -ah --info=progress2'                              # copys with a progess bar :)
